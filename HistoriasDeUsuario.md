Historias de Usuario – Mini Proyecto \#3: Plataforma de Videoconferencias

## Sprint 1 – Gestión de usuarios y GUI (35% Frontend / 30% Backend / 10% BD / 5% Gestión / 20% Pruebas)

| H1 \- \#1 Sign‑up básico |
| ----- |
| **Como** visitante de la plataforma **Quiero** crear una cuenta con mis datos personales para poder ingresar y gestionar videollamadas. **Criterios de Aceptación** Visualización del formulario:  \- Al acceder a /signup se muestran siempre los campos: Nombres, Apellidos, Edad (numérico ≥ 13), Correo electrónico, contraseña (≥ 8 caracteres, mínimo 1 mayúscula, número y carácter especial). y Confirmar contraseña. Validación en tiempo real: El botón Registrarse permanece deshabilitado hasta que todos los campos sean válidos:Correo con formato RFC 5322\. Contraseña ≥ 8 caracteres, al menos una mayúscula, una minúscula, un número y un carácter  Confirmar contraseña coincide. Edad contiene solo dígitos y es ≥ 13\. Los mensajes de error se anuncian en una región aria-live="polite" y desaparecen al corregir el campo. Envío exitoso Al presionar Registrarse con datos válidos: Se muestra un spinner de procesamiento (máx. 3 s). El backend responde HTTP 201 con el id del nuevo usuario. Se emite un toast “Cuenta creada con éxito” y el usuario es redirigido a /login en ≤ 500 ms. Manejo de errores de servidor: Si el correo ya existe, el backend devuelve 409 Conflict y el front muestra “Este correo ya está registrado” sin recargar la página. Cualquier error 5xx muestra un estado genérico “Intenta de nuevo más tarde” y se registra en la consola sólo en modo dev. Persistencia segura: El usuario se guarda en Firebase con contraseña hasheada usando bcrypt (mín. 10 salt rounds). Se registra la fecha de creación (createdAt) en formato ISO-8601. **Definición de hecho** Todos los criterios de aceptación se cumplen. Documentación JSDoc añadida; README actualizado con el flujo de registro. Comprobado comportamiento responsivo en 320 px, 768 px y 1024 px mediante Chrome DevTools. Despliegue automático en Vercel (frontend) y Render (API) exitoso. |

| H2 \- \#1 Inicio de sesión |
| ----- |
| **Como** usuario registrado **Quiero** iniciar sesión con mi correo y contraseña  **Para** poder acceder a la plataforma y gestionar mis videollamadas. **Criterios de Aceptación Criterios de aceptación** Al acceder a /login, se muestran los campos *Correo electrónico* y *Contraseña*,  además de los botones *Iniciar sesión*, *Iniciar con Google* y *Iniciar con Facebook*. El botón *Iniciar sesión* permanece deshabilitado hasta que ambos campos sean válidos. Validaciones: Correo válido según RFC 5322\. Contraseña no vacía. Al presionar Iniciar sesión con datos válidos: Se muestra spinner de carga. Backend responde HTTP 200 con token JWT. El usuario es redirigido a /home o su panel principal. Definición de hecho Código documentado con JSDoc. Flujo probado en tres tamaños de pantalla (320px, 768px, 1024px). Despliegue funcional en Vercel y Render. **Logout** Al seleccionar Cerrar sesión: El token se elimina y la cabecera Authorization se limpia. El usuario vuelve a /inicio y se muestra un toast “Sesión cerrada correctamente”. Manejo de errores Credenciales incorrectas → 401 Unauthorized y mensaje “Correo o contraseña inválidos”. Cuenta bloqueada → 423 Locked y mensaje “Cuenta temporalmente bloqueada”. Errores 5xx → mensaje “Inténtalo de nuevo más tarde” (solo log en consola en modo dev). Seguridad adicional Se limita a 5 intentos fallidos por IP cada 10 min (respuesta 429 Too Many Requests). Datos persistidos en Firestore y Firebase Auth. **Definición de hecho** |

| H3 \- \#1 Recuperar contraseña |
| ----- |
| Como usuario que olvidó su contraseña     Quiero restablecerla mediante un enlace enviado a mi correo     Para volver a acceder sin crear una cuenta nueva. **Criterios de Aceptación** Solicitud de recuperación En /forgot-password se muestra un único campo Correo electrónico con botón Enviar enlace. Al ingresar un correo válido: Se muestra un spinner (≤ 3 s). El backend responde HTTP 200 y envía un mail con enlace de restablecimiento válido 1 hora y de un solo uso. Se muestra un toast “Revisa tu correo para continuar”. Link de restablecimiento  El enlace incluye token seguro (/reset?token=XYZ). Si el token está vigente, lleva a un formulario con Nueva contraseña y Confirmar contraseña. Si el token expiró o fue usado, se muestra el mensaje “Enlace inválido o caducado” y opción para reenviarlo. Validación de nueva contraseña  Contraseña (≥ 8 caracteres, mínimo 1 mayúscula, número y carácter especial). Confirmar contraseña debe coincidir. Mensajes de error accesibles via aria-live="polite". Restablecimiento exitoso  Al enviar datos válidos: Backend responde HTTP 200 y actualiza la contraseña (hash bcrypt, 10 salt rounds). El token se invalida inmediatamente. Se emite un toast “Contraseña actualizada” y se redirige a /login en ≤ 500 ms. Manejo de errores  Correo no registrado → 202 Accepted (respuesta genérica para no filtrar cuentas). Errores 5xx → mensaje “Inténtalo de nuevo más tarde” (log solo en modo dev). **Definición de hecho** Todos los criterios de aceptación se cumplen. Documentación JSDoc añadida; README incluye el flujo de recuperación. Verificado diseño responsivo en 320 px, 768 px y 1024 px. Correo de prueba recibido en un buzón real (ej.: Mailtrap) y enlace operativo. Despliegue en Vercel (front) y Render (API) actualizado; rutas /forgot-password y /reset accesibles vía HTTPS. |

| H4 \- \#1 Delete básico |
| ----- |
| Como usuario autenticado  Quiero eliminar definitivamente mi cuenta para dejar de usar el servicio y borrar mis datos. **Criterios de Aceptación** Acceso En /profile se muestra un botón editar. Al pulsarlo, se abre /profile/edit con los datos del usuario precargados. Nombres Apellidos Edad (≥ 13\) Correo electrónico (validado con RFC 5322). Validación El botón guardar permanecerá deshabilitado hasta que todos los campos sean válidos. Los mensajes de validación son accesibles mediante aria-live polite. Edición Al guardar los cambios: Se muestra una ruleta ≤ 2 s. El backend responde con PUT /users/me → 200 con el objeto actualizado. La vista se refresca sin recargar la página. Se muestra un brindis: “Perfil actualizado”. El campo actualizado se guarda en formato ISO-8601. Manejo de errores Si el correo ya está registrado → 409 Conflicto. Si el token expiró → redirigir a /login. Si ocurre un error 5xx → mostrar brindis genérico (registrar solo en entorno de desarrollo). **Definición de hecho** Todos los criterios de aceptación se cumplen. Código y componentes documentados con JSDoc; README actualizado con el flujo de edición. Comportamiento responsive validado en 320 px, 768 px y 1024 px. Despliegue en Vercel (frontal) y Render (API) actualizados; endpoint PUT /users/me operativo vía HTTPS.  |

| H4 \- \#1 Creación de reunión |
| ----- |
| **Como usuario autenticado                                                                                          quiero**  poder crear una reunión, Acceso Desde /dashboard, se muestra un botón **“Nueva reunión”**. Al pulsarlo, se abre un **modal o vista** en /meeting/create. El usuario puede visualizar los campos o parámetros básicos de la reunión (nombre, privacidad, participantes). Permite **explorar la interfaz del sistema** de reuniones antes de confirmar la creación. Validación El botón **“Crear reunión”** permanecerá **deshabilitado** hasta que los campos requeridos sean válidos. Al confirmar la creación: El sistema genera un **ID único** (UUID v4 o Firestore autoID). El endpoint POST /meetings responde con código 201 Created y retorna el objeto de la reunión. El usuario puede **copiar el ID** o el **enlace directo** /meeting/:id. Manejo de errores Si **falla la creación** → mostrar brindis con el mensaje: “No se pudo crear la reunión”. Si el **token expiró** → redirigir a /login. Si ocurre un error **5xx del servidor**, mostrar brindis genérico (“Error en el servidor, inténtalo más tarde”) y registrar en consola solo en entorno de desarrollo. **Definición de Hecho (DoD)** Todos los criterios de aceptación se cumplen. Las reuniones se **registran en Firestore** correctamente. **Endpoint POST /meetings** probado y operativo en Render (HTTPS). **Comportamiento responsive** validado en 320 px, 768 px y 1024 px mediante Chrome DevTools. Código documentado con **JSDoc** y buenas prácticas de TypeScript. **Despliegue actualizado** en Vercel (frontend) y Render (backend). |

## Sprint 2 – Chat en tiempo real (20% Frontend / 40% Backend / 15% BD / 5% Gestión / 20% Pruebas)

|  |
| :---- |
| **Como** usuario autenticado,**quiero** unirme a una reunión mediante un ID, para                                                          **poder** comunicarme con otros participantes por medio del chat en tiempo real. Acceso Desde /dashboard, se muestra un campo **“Ingresar ID de reunión”** y un botón **“Unirme”**. También se puede acceder mediante un **enlace directo**: /meeting/:id. Si el usuario no está autenticado, se redirige automáticamente a /login. Validación El campo del ID no puede estar vacío. El botón **“Unirme”** se habilita solo cuando el ID tiene formato válido (UUID o ID Firestore existente). El sistema verifica en Firestore que la reunión exista y esté con status \= "active". Si la validación es exitosa, el backend responde con 200 OK y los datos básicos de la reunión. Edición Al ingresar, se actualiza en Firestore la lista de participantes del documento meeting. participants: \[{ userId, joinedAt, active: true }\] La vista de la reunión muestra el nombre del usuario y lista de conectados. Se sincroniza el estado de conexión vía Socket.io sin recargar la página. Manejo de errores Si el ID no existe → mostrar brindis “Reunión no encontrada”. Si la reunión está cerrada → mostrar brindis “Esta reunión ya finalizó”. Si el token expiró → redirigir a /login. En error 5xx → brindar mensaje genérico “Error en la conexión”. Definición de Hecho Todos los criterios de aceptación se cumplen. Firestore actualiza correctamente el campo participants. Conexión Socket.io probada con 2–10 usuarios simultáneos. Interfaz responsiva validada en 320, 768 y 1024 px. Código documentado con JSDoc y README actualizado. Despliegue funcional en Vercel y Render.  |

|  |
| :---- |
|  |

|  |
| :---- |
|  |

|  |
| :---- |
|  |

